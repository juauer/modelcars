sudo: required 
dist: trusty 
language: generic 
compiler:
  - gcc
notifications:
  email:
    on_success: always
    on_failure: always
env:
  matrix:
    - USE_DEB=true  ROS_DISTRO="kinetic"   ROS_REPOSITORY_PATH=http://packages.ros.org/ros/ubuntu
    - USE_DEB=true  ROS_DISTRO="kinetic"   ROS_REPOSITORY_PATH=http://packages.ros.org/ros-shadow-fixed/ubuntu
matrix:
  allow_failures:
    - env: USE_DEB=true  ROS_DISTRO="kinetic"   ROS_REPOSITORY_PATH=http://packages.ros.org/ros-shadow-fixed/ubuntu
install:
  - sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu/ $(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'
  - sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116
  - sudo apt-get update
  - lsb_release -sc
  - apt-cache search ros-
  - sudo apt-get install -y python-catkin-pkg python-rosdep python-wstool
  - sudo apt-get install -y ros-$ROS_DISTRO-catkin
  - source /opt/ros/$ROS_DISTRO/setup.bash
  # Prepare rosdep to install dependencies.
  - pip install catkin_pkg
  - pip install empy
  - sudo rosdep init
  - rosdep update
  - sudo apt-get install -y ros-$ROS_DISTRO-cv-bridge ros-$ROS_DISTRO-message-generation ros-$ROS_DISTRO-geometry-msgs ros-$ROS_DISTRO-message-runtime ros-$ROS_DISTRO-std-msgs ros-$ROS_DISTRO-roscpp ros-$ROS_DISTRO-sensor-msgs ros-$ROS_DISTRO-image-transport
  - git clone https://github.com/ros-industrial/industrial_ci.git .ci_config
script: 
  - source .ci_config/travis.sh
#  - source ./travis.sh  # Enable this when you have a package-local script 
